import{_ as D,o as u,c as d,a as e,t as m,F as I,r as C,n as S,d as g,w as a,v as p,f,g as c,h as b,i as E,j as B,e as P,k as y,l as R}from"./index-DTTW0Ah7.js";import{u as F}from"./cartStore-C0I7JWNk.js";import{_ as U}from"./黃聖安01-CzmbJbkL.js";const x={props:{title:String,options:Array,startDate:String,endDate:String,adults:Number,children:Number},data(){return{selectedOption:this.options?this.options[0]:null,localStartDate:this.startDate||"",localEndDate:this.endDate||"",localAdults:this.adults||1,localChildren:this.children||0}},methods:{selectOption(s){this.selectedOption=s},saveSelection(){this.options?this.$emit("save",this.selectedOption):this.$emit("save",{startDate:this.localStartDate,endDate:this.localEndDate,adults:this.localAdults,children:this.localChildren})}}},L={class:"popup"},T={class:"popup-content"},Z={class:"popup-text"},K={key:0},j=["onClick"],V={key:1},N={class:"date-input-container"},O={class:"date-input-container"},G={key:2},z={class:"date-input-container"};function M(s,t,r,k,n,i){return u(),d("div",L,[e("div",T,[e("span",{class:"close-btn",onClick:t[0]||(t[0]=l=>s.$emit("close"))},"×"),e("h3",Z,m(r.title),1),r.options&&r.title==="選擇地點"?(u(),d("div",K,[(u(!0),d(I,null,C(r.options,l=>(u(),d("div",{class:S(["whereText",{checked:n.selectedOption===l}]),key:l,onClick:v=>i.selectOption(l)},m(l),11,j))),128))])):g("",!0),r.startDate||r.title==="選擇日期"?(u(),d("div",V,[e("div",N,[t[6]||(t[6]=e("label",null,"開始日期",-1)),a(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=l=>n.localStartDate=l)},null,512),[[p,n.localStartDate]])]),t[8]||(t[8]=e("br",null,null,-1)),e("div",O,[t[7]||(t[7]=e("label",null,"結束日期",-1)),a(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=l=>n.localEndDate=l)},null,512),[[p,n.localEndDate]])])])):g("",!0),r.adults!==void 0&&r.children!==void 0&&r.title==="選擇旅客"?(u(),d("div",G,[e("div",z,[t[9]||(t[9]=e("label",null,"成人",-1)),a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=l=>n.localAdults=l),min:"1"},null,512),[[p,n.localAdults]])]),t[10]||(t[10]=e("br",null,null,-1)),t[11]||(t[11]=e("label",null,"兒童",-1)),a(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=l=>n.localChildren=l),min:"0"},null,512),[[p,n.localChildren]])])):g("",!0),e("button",{onClick:t[5]||(t[5]=(...l)=>i.saveSelection&&i.saveSelection(...l))},"完成")])])}const W=D(x,[["render",M],["__scopeId","data-v-b6a72dd1"]]),H="/KIZA/assets/%E9%98%BF%E9%87%8C%E9%B3%B3%E9%B3%B3-CDOdOOHt.jpg",w="/KIZA/assets/logo%E6%A9%AB%E5%BC%8F-4oU_1l1K.png",q={components:{PopupSelect:W},setup(){return{cartStore:F()}},data(){return{currentStartIndex:0,roomsPerPage:4,showBookingPopupFlag:!1,showSuccessPopupFlag:!1,popupType:"",destinationInput:"",filteredRooms:[],dateInput:"",guestsInput:"2 位旅客, 1 間客房",bookingInfo:{},bookingStartDate:"",bookingEndDate:"",bookingAdults:1,bookingChildren:0,rooms:[{name:"北星海景套房",location:"新城鄉",price:1130,image:new URL("/KIZA/assets/%E4%B8%83%E6%98%9F%E6%BD%AD%E6%9C%89%E6%B5%B7%E7%9A%84%E7%85%A7%E7%89%872-ZAGyrib3.jpg",import.meta.url).href,rating:9.4,reviews:"棒極了(1002則評論)"},{name:"撒固兒套房",location:"花蓮市",price:1390,image:new URL("/KIZA/assets/sakul-Bj3zZrS2.jpg",import.meta.url).href,rating:9.5,reviews:"大拇指(693則評論)"},{name:"娜荳蘭套房",location:"吉安鄉",price:1230,image:new URL("/KIZA/assets/%E5%90%89%E5%AF%B6%E7%AB%BF-CdlHFqBT.jpg",import.meta.url).href,rating:9.9,reviews:"棒極了(1832則評論)"},{name:"磯固套房",location:"花蓮市",price:1192,image:new URL("/KIZA/assets/ciku-K8x8uiWT.jpg",import.meta.url).href,rating:9.7,reviews:"最美的(379則評論)"},{name:"洄瀾套房",location:"新城鄉",price:990,image:new URL("/KIZA/assets/%E6%B4%84%E7%80%BE%E5%9B%9E%E6%AC%84-CFp2Rbpy.jpg",import.meta.url).href,rating:9.1,reviews:"棒極了(102則評論)"},{name:"幕夏民宿",location:"吉安鄉",price:1290,image:new URL("/KIZA/assets/%E7%9B%AE%E4%B8%8B-CN2lPm0c.jpg",import.meta.url).href,rating:9.5,reviews:"美呆了(1209則評論)"},{name:"海軒民宿",location:"花蓮市",price:1090,image:new URL("/KIZA/assets/%E6%B5%B7%E6%99%AF%E8%BB%92%20%E8%8A%B1%E8%93%AE%E5%B8%82-DrasToIN.jpg",import.meta.url).href,rating:9.4,reviews:"棒極了(2002則評論)"},{name:"吉寶竿民宿",location:"花蓮市",price:1190,image:new URL("/KIZA/assets/%E5%AF%B6%E7%AB%BF%E5%A5%97%E6%88%BF-ChuhR9gI.jpg",import.meta.url).href,rating:9.5,reviews:"大拇指(622則評論)"},{name:"圖雅民宿",location:"新城鄉",price:3820,image:new URL("/KIZA/assets/%E5%9C%96%E9%9B%85%E7%89%B9%E6%B5%B7-B1oe1WkN.jpg",import.meta.url).href,rating:9.9,reviews:"美的國度(2622則評論)"},{name:"奇文套房",location:"吉安鄉",price:2110,image:new URL("/KIZA/assets/%E5%A5%87%E6%96%87%E5%A5%97%E6%88%BF-D3LE9JXN.jpg",import.meta.url).href,rating:9.5,reviews:"大拇指(122則評論)"},{name:"曠野民宿",location:"吉安鄉",price:890,image:new URL("/KIZA/assets/%E6%9B%A0%E9%87%8E%E6%B0%91%E5%AE%BF-CbhMl1Br.jpg",import.meta.url).href,rating:9.3,reviews:"大拇指(59則評論)"},{name:"Cika民宿",location:"新城鄉",price:990,image:new URL("/KIZA/assets/cika%E6%B0%91%E5%AE%BF-DWv08btZ.jpg",import.meta.url).href,rating:9.5,reviews:"棒極了(322則評論)"}]}},computed:{filteredRooms(){return this.rooms.filter(s=>{const t=this.destinationInput?s.location===this.destinationInput:!0,r=this.bookingStartDate&&this.bookingEndDate?this.checkAvailability(s):!0,k=this.guestsInput?this.checkGuests(s):!0;return t&&r&&k})},visibleRooms(){return this.filteredRooms.slice(this.currentStartIndex,this.currentStartIndex+this.roomsPerPage)}},methods:{checkAvailability(s){return!0},checkGuests(s){return!0},searchRooms(){const s=this.rooms.filter(t=>{const r=this.destinationInput?t.location===this.destinationInput:!0,k=this.bookingStartDate&&this.bookingEndDate?this.checkAvailability(t):!0,n=this.guestsInput?this.checkGuests(t):!0;return r&&k&&n});s.length===0&&Swal.fire({title:"無結果",text:"找不到符合條件的房間。",icon:"warning",confirmButtonText:"確認"}),this.filteredRooms=s},showPopup(s){this.popupType=s},closePopup(s){this.popupType="",s==="booking"&&(this.showBookingPopupFlag=!1),s==="success"&&(this.showSuccessPopupFlag=!1)},saveDestination(s){this.destinationInput=s,this.closePopup("destination")},saveDate(s){this.bookingStartDate=s.startDate,this.bookingEndDate=s.endDate,this.dateInput=`${s.startDate} 至 ${s.endDate}`,this.closePopup("date")},saveGuests(s){this.guestsInput=`${s.adults} 位旅客, ${s.children} 位兒童`,this.closePopup("guests")},scrollLeft(){this.currentStartIndex>0&&(this.currentStartIndex-=this.roomsPerPage)},scrollRight(){this.currentStartIndex+this.roomsPerPage<this.rooms.length&&(this.currentStartIndex+=this.roomsPerPage)},openBookingPopup(s){this.bookingInfo=s,this.showBookingPopupFlag=!0},confirmBooking(){if(!this.bookingStartDate||!this.bookingEndDate||this.bookingAdults===""){Swal.fire({title:"錯誤",text:"請選擇所有必要的資料，包括入住日期、退房日期和成人數量。",icon:"error",confirmButtonText:"確認",confirmButtonColor:"red"});return}const s={...this.bookingInfo,startDate:this.bookingStartDate,endDate:this.bookingEndDate,adults:this.bookingAdults,children:this.bookingChildren};this.cartStore.addToCart(s),Swal.fire({title:"加入購物車成功",html:`已將 ${this.bookingInfo.name} 加入購物車。`,icon:"success",confirmButtonText:"完成",confirmButtonColor:"green"}).then(()=>{this.showBookingPopupFlag=!1,this.showSuccessPopupFlag=!1})}},mounted(){this.filteredRooms=this.rooms}},J={class:"wrap"},X={class:"form-container"},Q={class:"input-container"},Y={class:"inputBox"},_={class:"room"},$={class:"room-container"},tt=["data-location"],et=["onClick"],ot=["src","alt"],st={class:"ratingReviews"},nt={class:"room-item-btn"},it={class:"price"},lt=["onClick"],rt={class:"work"},ut={class:"work-container"},at={class:"work-item"},pt={class:"work-item"},dt={class:"work-item"},mt={class:"work-item"},gt={key:0,class:"popup"},kt={class:"popup-content"},ht={key:1,class:"popup"},vt={class:"popup-content"};function ft(s,t,r,k,n,i){const l=E("router-link"),v=E("PopupSelect");return u(),d("div",J,[e("section",X,[t[25]||(t[25]=e("h2",null,"您想去哪裡?",-1)),e("div",Q,[e("div",{class:"inputBox",onClick:t[1]||(t[1]=o=>i.showPopup("destination"))},[t[22]||(t[22]=e("i",{class:"ph-fill ph-map-pin"},null,-1)),a(e("input",{type:"text",placeholder:"選擇奇萊地點","onUpdate:modelValue":t[0]||(t[0]=o=>n.destinationInput=o),readonly:""},null,512),[[p,n.destinationInput]])]),e("div",{class:"inputBox",onClick:t[3]||(t[3]=o=>i.showPopup("date"))},[t[23]||(t[23]=e("i",{class:"ph-fill ph-calendar-check"},null,-1)),a(e("input",{type:"text",placeholder:"選擇日期","onUpdate:modelValue":t[2]||(t[2]=o=>n.dateInput=o),readonly:""},null,512),[[p,n.dateInput]])]),e("div",{class:"inputBox",onClick:t[5]||(t[5]=o=>i.showPopup("guests"))},[t[24]||(t[24]=e("i",{class:"ph-fill ph-user"},null,-1)),a(e("input",{type:"text",placeholder:"2 位旅客, 1 間客房","onUpdate:modelValue":t[4]||(t[4]=o=>n.guestsInput=o),readonly:""},null,512),[[p,n.guestsInput]])])]),e("div",Y,[e("input",{type:"submit",value:"搜尋",onClick:t[6]||(t[6]=(...o)=>i.searchRooms&&i.searchRooms(...o))})])]),e("section",_,[t[27]||(t[27]=e("h2",null,"選擇奇萊房間",-1)),t[28]||(t[28]=e("p",{class:"smallTitle"},"土地即是文化的道路",-1)),e("div",$,[(u(!0),d(I,null,C(i.visibleRooms,(o,A)=>(u(),d("div",{key:A,class:"room-item","data-location":o.location},[e("a",{href:"#",onClick:B(h=>i.openBookingPopup(o),["prevent"])},[e("img",{src:o.image,alt:o.name,onLoad:t[7]||(t[7]=(...h)=>s.onImageLoad&&s.onImageLoad(...h)),onError:t[8]||(t[8]=(...h)=>s.onImageError&&s.onImageError(...h))},null,40,ot)],8,et),e("p",st,[P(m(o.rating)+"/10 ",1),e("span",null,m(o.reviews),1)]),e("h3",null,m(o.name),1),e("p",null,m(o.location),1),e("div",nt,[e("h3",it,"NT$"+m(o.price),1),e("a",{href:"#",class:"btn-filled-dark",onClick:B(h=>i.openBookingPopup(o),["prevent"])},t[26]||(t[26]=[e("h4",null,"加入購物車",-1)]),8,lt)])],8,tt))),128))]),e("button",{class:"arrow arrow-left",onClick:t[9]||(t[9]=(...o)=>i.scrollLeft&&i.scrollLeft(...o))},"‹"),e("button",{class:"arrow arrow-right",onClick:t[10]||(t[10]=(...o)=>i.scrollRight&&i.scrollRight(...o))},"›")]),e("section",rt,[t[37]||(t[37]=e("h2",null,"探索更多活動",-1)),t[38]||(t[38]=e("p",null,"延續文化的溫度",-1)),e("div",ut,[e("div",at,[f(l,{to:"/festival"},{default:c(()=>t[29]||(t[29]=[e("img",{src:y,alt:"kiza"},null,-1)])),_:1}),t[30]||(t[30]=e("h3",null,"祭典",-1))]),e("div",pt,[f(l,{to:"meals"},{default:c(()=>t[31]||(t[31]=[e("img",{src:H,alt:"food"},null,-1)])),_:1}),t[32]||(t[32]=e("h3",null,"飲食",-1))]),e("div",dt,[f(l,{to:"art"},{default:c(()=>t[33]||(t[33]=[e("img",{src:U,alt:"tony"},null,-1)])),_:1}),t[34]||(t[34]=e("h3",null,"藝術",-1))]),e("div",mt,[f(l,{to:"workshop"},{default:c(()=>t[35]||(t[35]=[e("img",{src:R,alt:"work"},null,-1)])),_:1}),t[36]||(t[36]=e("h3",null,"工作坊",-1))])])]),n.showBookingPopupFlag?(u(),d("div",gt,[e("div",kt,[t[39]||(t[39]=e("img",{src:w,alt:"logo"},null,-1)),e("span",{class:"close-btn",onClick:t[11]||(t[11]=o=>i.closePopup("booking"))},"×"),e("h3",null,m(n.bookingInfo.name),1),t[40]||(t[40]=e("label",null,"入住日期",-1)),a(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=o=>n.bookingStartDate=o)},null,512),[[p,n.bookingStartDate]]),t[41]||(t[41]=e("label",null,"退房日期",-1)),a(e("input",{type:"date","onUpdate:modelValue":t[13]||(t[13]=o=>n.bookingEndDate=o)},null,512),[[p,n.bookingEndDate]]),t[42]||(t[42]=e("label",null,"成人",-1)),a(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=o=>n.bookingAdults=o),min:"1"},null,512),[[p,n.bookingAdults]]),t[43]||(t[43]=e("label",null,"兒童",-1)),a(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=o=>n.bookingChildren=o),min:"0"},null,512),[[p,n.bookingChildren]]),e("button",{onClick:t[16]||(t[16]=(...o)=>i.confirmBooking&&i.confirmBooking(...o))},"加入購物車")])])):g("",!0),n.showSuccessPopupFlag?(u(),d("div",ht,[e("div",vt,[t[44]||(t[44]=e("img",{src:w,alt:"logo"},null,-1)),e("span",{class:"close-btn",onClick:t[17]||(t[17]=o=>s.hidePopup("success"))},"×"),t[45]||(t[45]=e("h3",null,"已加入購物車",-1)),e("button",{onClick:t[18]||(t[18]=o=>s.hidePopup("success"))},"完成")])])):g("",!0),n.popupType==="destination"?(u(),b(v,{key:2,onClose:t[19]||(t[19]=o=>i.closePopup("destination")),onSave:i.saveDestination,options:["花蓮市","吉安鄉","新城鄉"],title:"選擇地點"},null,8,["onSave"])):g("",!0),n.popupType==="date"?(u(),b(v,{key:n.popupType,onClose:t[20]||(t[20]=o=>i.closePopup("date")),onSave:i.saveDate,startDate:n.bookingStartDate,endDate:n.bookingEndDate,title:"選擇日期"},null,8,["onSave","startDate","endDate"])):g("",!0),n.popupType==="guests"?(u(),b(v,{key:4,onClose:t[21]||(t[21]=o=>i.closePopup("guests")),onSave:i.saveGuests,adults:n.bookingAdults,children:n.bookingChildren,title:"選擇旅客"},null,8,["onSave","adults","children"])):g("",!0)])}const Bt=D(q,[["render",ft],["__scopeId","data-v-66c69ecc"]]);export{Bt as default};
