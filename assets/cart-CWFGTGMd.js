import{u as k}from"./cartStore-Qm2vM2eP.js";import{_ as y,c as m,a as o,f as C,g as F,F as g,r as x,t as d,j as b,w as l,v as r,i as w,o as p,e as h,n as q}from"./index-D98ftM7x.js";const _={setup(){const n=k(),t={name:"王東尼",phone:"0912345678",address:"花蓮縣富里鄉袋米路2號",creditCard:"4242-4242-4242-4242"},f=a=>{n.removeFromCart(a)},s=(a,u)=>{n.updateQuantity(a,u)},v=()=>{if(n.cartItems.length===0){Swal.fire({title:"購物車為空",text:"請選擇商品後再結帳！",icon:"warning",confirmButtonText:"確認",confirmButtonColor:"crimson"});return}Swal.fire({title:"感謝您的訂購！",text:"我們已收到您的訂單，會儘快處理。",icon:"success",confirmButtonText:"確認",confirmButtonColor:"green"}).then(()=>{n.clearCart(),window.location.reload()})};return{cartItems:n.cartItems,subtotal:n.subtotal,total:n.total,checkoutForm:t,removeFromCart:f,updateQuantity:s,checkout:v}}},I={class:"wrap cf"},S={class:"heading cf"},V={class:"cart"},B={class:"cartWrap"},N={class:"infoWrap"},U={class:"cartSection"},T=["src","alt"],Q=["onUpdate:modelValue","onChange"],R={class:"prodTotal cartSection"},W={class:"cartSection removeWrap"},D=["onClick"],M={class:"subtotal cf"},j={class:"totalRow"},z={class:"value"},E={class:"totalRow final"},L={class:"value"},A={class:"checkout-form"};function G(n,t,f,s,v,a){const u=w("router-link");return p(),m("div",I,[o("div",S,[t[6]||(t[6]=o("h1",null,"我的購物車",-1)),C(u,{to:"/meals",class:"continue"},{default:F(()=>t[5]||(t[5]=[h("繼續購物")])),_:1})]),o("div",V,[o("ul",B,[(p(!0),m(g,null,x(s.cartItems,(e,i)=>(p(),m("li",{key:i,class:q(["items",i%2===0?"even":"odd"])},[o("div",N,[o("div",U,[o("img",{src:e.image,alt:e.name,class:"itemImg"},null,8,T),t[7]||(t[7]=o("p",{class:"itemNumber"},null,-1)),o("h3",null,d(e.name),1),t[8]||(t[8]=o("span",null,"數量",-1)),l(o("input",{type:"text",class:"qty","onUpdate:modelValue":c=>e.quantity=c,onChange:c=>s.updateQuantity(i,e.quantity)},null,40,Q),[[r,e.quantity]])]),o("div",R,[o("p",null,"$ "+d(Number.isInteger(e.price*e.quantity)?e.price*e.quantity:(e.price*e.quantity).toFixed(2)),1)]),o("div",W,[o("a",{href:"#",onClick:b(c=>s.removeFromCart(i),["prevent"])},t[9]||(t[9]=[o("i",{class:"ph ph-trash-simple delete"},null,-1)]),8,D)])])],2))),128))])]),o("div",M,[o("ul",null,[o("li",j,[t[10]||(t[10]=o("span",{class:"label"},"小計",-1)),o("span",z,"$ "+d(Number.isInteger(s.subtotal)?s.subtotal:s.subtotal.toFixed(2)),1)]),t[12]||(t[12]=o("li",{class:"totalRow"},[o("span",{class:"label"},"運費"),o("span",{class:"value"},"$5")],-1)),o("li",E,[t[11]||(t[11]=o("span",{class:"label"},"總計",-1)),o("span",L,"$ "+d(Number.isInteger(s.total)?s.total:s.total.toFixed(2)),1)])])]),o("div",A,[t[18]||(t[18]=o("h2",null,"結帳資訊",-1)),o("form",{onSubmit:t[4]||(t[4]=b((...e)=>s.checkout&&s.checkout(...e),["prevent"]))},[t[13]||(t[13]=o("label",{for:"name"},"姓名:",-1)),l(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.checkoutForm.name=e),required:""},null,512),[[r,s.checkoutForm.name]]),t[14]||(t[14]=o("label",{for:"phone"},"電話:",-1)),l(o("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.checkoutForm.phone=e),required:""},null,512),[[r,s.checkoutForm.phone]]),t[15]||(t[15]=o("label",{for:"address"},"住址:",-1)),l(o("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.checkoutForm.address=e),required:""},null,512),[[r,s.checkoutForm.address]]),t[16]||(t[16]=o("label",{for:"creditCard"},"信用卡號:",-1)),l(o("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>s.checkoutForm.creditCard=e),required:""},null,512),[[r,s.checkoutForm.creditCard]]),t[17]||(t[17]=o("button",{type:"submit",class:"btn continue"},"結帳",-1))],32)])])}const K=y(_,[["render",G],["__scopeId","data-v-b7febbf1"]]);export{K as default};
