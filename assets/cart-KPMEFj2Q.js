import{u as k}from"./cartStore-DzHpB46A.js";import{_ as y,c,a as o,f as C,g as F,F as g,r as x,t as u,j as b,w as r,v as a,i as h,o as m,e as q,n as w,u as _}from"./index-BQV--eQ1.js";const I={setup(){const n=k(),t=_(),p={name:"王東尼",phone:"0912345678",address:"花蓮縣富里鄉袋米路2號",creditCard:"4242-4242-4242-4242"},s=l=>{n.removeFromCart(l)},f=(l,e)=>{n.updateQuantity(l,e)},v=()=>{if(n.cartItems.length===0){Swal.fire({title:"購物車為空",text:"請選擇商品後再結帳！",icon:"warning",confirmButtonText:"確認",confirmButtonColor:"crimson"});return}Swal.fire({title:"感謝您的訂購！",text:"我們已收到您的訂單，會儘快處理。",icon:"success",confirmButtonText:"確認",confirmButtonColor:"green"}).then(()=>{n.clearCart(),t.push("/homepage")})};return{cartItems:n.cartItems,subtotal:n.subtotal,total:n.total,checkoutForm:p,removeFromCart:s,updateQuantity:f,checkout:v}}},S={class:"wrap cf"},V={class:"heading cf"},B={class:"cart"},N={class:"cartWrap"},U={class:"infoWrap"},T={class:"cartSection"},R=["src","alt"],Q=["onUpdate:modelValue","onChange"],W={class:"prodTotal cartSection"},D={class:"cartSection removeWrap"},M=["onClick"],j={class:"subtotal cf"},z={class:"totalRow"},E={class:"value"},L={class:"totalRow final"},A={class:"value"},G={class:"checkout-form"};function H(n,t,p,s,f,v){const l=h("router-link");return m(),c("div",S,[o("div",V,[t[6]||(t[6]=o("h1",null,"我的購物車",-1)),C(l,{to:"/meals",class:"continue"},{default:F(()=>t[5]||(t[5]=[q("繼續購物")])),_:1})]),o("div",B,[o("ul",N,[(m(!0),c(g,null,x(s.cartItems,(e,i)=>(m(),c("li",{key:i,class:w(["items",i%2===0?"even":"odd"])},[o("div",U,[o("div",T,[o("img",{src:e.image,alt:e.name,class:"itemImg"},null,8,R),t[7]||(t[7]=o("p",{class:"itemNumber"},null,-1)),o("h3",null,u(e.name),1),t[8]||(t[8]=o("span",null,"數量",-1)),r(o("input",{type:"text",class:"qty","onUpdate:modelValue":d=>e.quantity=d,onChange:d=>s.updateQuantity(i,e.quantity)},null,40,Q),[[a,e.quantity]])]),o("div",W,[o("p",null,"$ "+u(Number.isInteger(e.price*e.quantity)?e.price*e.quantity:(e.price*e.quantity).toFixed(2)),1)]),o("div",D,[o("a",{href:"#",onClick:b(d=>s.removeFromCart(i),["prevent"])},t[9]||(t[9]=[o("i",{class:"ph ph-trash-simple delete"},null,-1)]),8,M)])])],2))),128))])]),o("div",j,[o("ul",null,[o("li",z,[t[10]||(t[10]=o("span",{class:"label"},"小計",-1)),o("span",E,"$ "+u(Number.isInteger(s.subtotal)?s.subtotal:s.subtotal.toFixed(2)),1)]),t[12]||(t[12]=o("li",{class:"totalRow"},[o("span",{class:"label"},"運費"),o("span",{class:"value"},"$5")],-1)),o("li",L,[t[11]||(t[11]=o("span",{class:"label"},"總計",-1)),o("span",A,"$ "+u(Number.isInteger(s.total)?s.total:s.total.toFixed(2)),1)])])]),o("div",G,[t[18]||(t[18]=o("h2",null,"結帳資訊",-1)),o("form",{onSubmit:t[4]||(t[4]=b((...e)=>s.checkout&&s.checkout(...e),["prevent"]))},[t[13]||(t[13]=o("label",{for:"name"},"姓名:",-1)),r(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.checkoutForm.name=e),required:""},null,512),[[a,s.checkoutForm.name]]),t[14]||(t[14]=o("label",{for:"phone"},"電話:",-1)),r(o("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.checkoutForm.phone=e),required:""},null,512),[[a,s.checkoutForm.phone]]),t[15]||(t[15]=o("label",{for:"address"},"住址:",-1)),r(o("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.checkoutForm.address=e),required:""},null,512),[[a,s.checkoutForm.address]]),t[16]||(t[16]=o("label",{for:"creditCard"},"信用卡號:",-1)),r(o("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>s.checkoutForm.creditCard=e),required:""},null,512),[[a,s.checkoutForm.creditCard]]),t[17]||(t[17]=o("button",{type:"submit",class:"btn continue"},"結帳",-1))],32)])])}const O=y(I,[["render",H],["__scopeId","data-v-67016fb8"]]);export{O as default};
